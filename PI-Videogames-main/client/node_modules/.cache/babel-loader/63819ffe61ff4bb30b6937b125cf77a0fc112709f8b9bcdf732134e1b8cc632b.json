{"ast":null,"code":"import{GET_ALL_GAMES,SEARCH_BY_NAME,GET_VIDEOGAME_DETAIL,GET_GENRES,ORDER_BY,FILTER_BY}from\"./Actions/constantes\";const initialState={allGames:[],gamesBackUp:[],gameDetails:{},genres:[],filtered:[]};export default function rootReducer(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_ALL_GAMES:return{...state,allGames:action.payload,gamesBackUp:action.payload,filtered:action.payload};case GET_VIDEOGAME_DETAIL:return{...state,gameDetails:action.payload};case SEARCH_BY_NAME:return{...state,gamesBackUp:action.payload,filtered:action.payload};case GET_GENRES:return{...state,genres:action.payload};case FILTER_BY:if(action.payload==='default'){return{...state,filtered:state.gamesBackUp};}if(action.payload==='DB'){return{...state,filtered:state.gamesBackUp.filter(game=>typeof game.id==='string')};}if(action.payload==='API'){return{...state,filtered:state.gamesBackUp.filter(game=>typeof game.id==='number')};}else{return{...state,filtered:state.gamesBackUp.filter(game=>{return game.genres.find(genre=>{return genre===action.payload;});})};};case ORDER_BY:if(action.payload==='A-Z'){return{...state,filtered:[...state.filtered].sort((prev,next)=>{if(prev.name>next.name)return 1;if(prev.name<next.name)return-1;return 0;})};}if(action.payload==='Z-A'){return{...state,filtered:[...state.filtered].sort((prev,next)=>{if(prev.name>next.name)return-1;if(prev.name<next.name)return 1;return 0;})};}if(action.payload==='desc'){return{...state,filtered:[...state.filtered].sort((prev,next)=>prev.rating-next.rating)};}if(action.payload==='asc'){return{...state,filtered:[...state.filtered].sort((prev,next)=>next.rating-prev.rating)};}else{return{...state,filtered:state.gamesBackUp};};default:return state;}};","map":{"version":3,"names":["GET_ALL_GAMES","SEARCH_BY_NAME","GET_VIDEOGAME_DETAIL","GET_GENRES","ORDER_BY","FILTER_BY","initialState","allGames","gamesBackUp","gameDetails","genres","filtered","rootReducer","state","arguments","length","undefined","action","type","payload","filter","game","id","find","genre","sort","prev","next","name","rating"],"sources":["C:/Users/mirko/Desktop/Proyecto Individual Mirko Miler FT-45B/Proyecto-Individual/PI-Videogames-main/client/src/redux/reducers.js"],"sourcesContent":["import { GET_ALL_GAMES, \r\n  SEARCH_BY_NAME,\r\n  GET_VIDEOGAME_DETAIL,\r\n  GET_GENRES,\r\n  ORDER_BY,\r\n  FILTER_BY } from \"./Actions/constantes\";\r\n\r\nconst initialState = {\r\nallGames: [],\r\ngamesBackUp: [],\r\ngameDetails: {},\r\ngenres: [],\r\nfiltered: []\r\n};\r\n\r\nexport default function rootReducer(state = initialState, action) {\r\nswitch (action.type) {\r\n    case GET_ALL_GAMES:\r\n         return {\r\n         ...state,\r\n         allGames: action.payload, \r\n         gamesBackUp: action.payload,\r\n         filtered: action.payload\r\n     };\r\n     case GET_VIDEOGAME_DETAIL:\r\n         return {\r\n         ...state,\r\n         gameDetails: action.payload\r\n     };\r\n\r\n     case SEARCH_BY_NAME:\r\n         return {\r\n         ...state,\r\n         gamesBackUp: action.payload,\r\n         filtered: action.payload\r\n     };\r\n\r\n     case GET_GENRES:\r\n         return {\r\n             ...state,\r\n             genres: action.payload\r\n         };\r\n         \r\n     case FILTER_BY:\r\n             if (action.payload === 'default'){\r\n                 return {...state, filtered: state.gamesBackUp}\r\n                 }\r\n               \r\n             if(action.payload === 'DB'){\r\n                 return {...state, filtered: state.gamesBackUp.filter((game)=> (typeof game.id) === 'string')}\r\n                 }\r\n               \r\n             if(action.payload === 'API'){\r\n                 return {...state, filtered: state.gamesBackUp.filter((game)=> (typeof game.id) === 'number')}\r\n                 }\r\n               \r\n             else {\r\n                 return {...state, filtered: state.gamesBackUp.filter((game) => {\r\n                     return game.genres.find((genre) => {\r\n                         return genre === action.payload})\r\n                 })}\r\n             };\r\n\r\n     case ORDER_BY:\r\n         if(action.payload === 'A-Z'){\r\n             return {...state, filtered: [...state.filtered].sort((prev, next) => {\r\n                 if(prev.name > next.name) return 1\r\n                 if(prev.name < next.name) return -1\r\n                 return 0\r\n             })}}\r\n               \r\n         if(action.payload === 'Z-A'){\r\n             return {...state, filtered: [...state.filtered].sort((prev, next) => {\r\n                 if(prev.name > next.name) return -1\r\n                 if(prev.name < next.name) return 1\r\n                 return 0\r\n             })}}\r\n               \r\n         if(action.payload === 'desc'){\r\n             return {...state, filtered: [...state.filtered].sort((prev,next) => prev.rating - next.rating)}\r\n            }\r\n               \r\n         if(action.payload === 'asc'){\r\n             return {...state, filtered: [...state.filtered].sort((prev,next) => next.rating - prev.rating)}\r\n             }     \r\n         else {\r\n             return {...state, filtered: state.gamesBackUp}\r\n             };\r\n default: \r\n     return state;\r\n}\r\n  \r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}