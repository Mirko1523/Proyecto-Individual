{"ast":null,"code":"import { GET_ALL_GAMES, SEARCH_BY_NAME, GET_VIDEOGAME_DETAIL, GET_GENRES, ORDER_BY, FILTER_BY } from \"./Actions/constantes\";\nconst initialState = {\n  allGames: [],\n  gamesBackUp: [],\n  gameDetails: {},\n  genres: [],\n  filtered: []\n};\nexport default function rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_ALL_GAMES:\n      return {\n        ...state,\n        allGames: action.payload,\n        gamesBackUp: action.payload,\n        filtered: action.payload\n      };\n    case GET_VIDEOGAME_DETAIL:\n      return {\n        ...state,\n        gameDetails: action.payload\n      };\n    case SEARCH_BY_NAME:\n      return {\n        ...state,\n        gamesBackUp: action.payload,\n        filtered: action.payload\n      };\n    case GET_GENRES:\n      return {\n        ...state,\n        genres: action.payload\n      };\n    case FILTER_BY:\n      if (action.payload === 'default') {\n        return {\n          ...state,\n          filtered: state.gamesBackUp\n        };\n      }\n      if (action.payload === 'DB') {\n        return {\n          ...state,\n          filtered: state.gamesBackUp.filter(game => typeof game.id === 'string')\n        };\n      }\n      if (action.payload === 'API') {\n        return {\n          ...state,\n          filtered: state.gamesBackUp.filter(game => typeof game.id === 'number')\n        };\n      } else {\n        return {\n          ...state,\n          filtered: state.gamesBackUp.filter(game => {\n            return game.genres.find(genre => {\n              return genre === action.payload;\n            });\n          })\n        };\n      }\n      ;\n    case ORDER_BY:\n      if (action.payload === 'A-Z') {\n        return {\n          ...state,\n          filtered: [...state.filtered].sort((prev, next) => {\n            if (prev.name > next.name) return 1;\n            if (prev.name < next.name) return -1;\n            return 0;\n          })\n        };\n      }\n      if (action.payload === 'Z-A') {\n        return {\n          ...state,\n          filtered: [...state.filtered].sort((prev, next) => {\n            if (prev.name > next.name) return -1;\n            if (prev.name < next.name) return 1;\n            return 0;\n          })\n        };\n      }\n      if (action.payload === 'desc') {\n        return {\n          ...state,\n          filtered: [...state.filtered].sort((prev, next) => prev.rating - next.rating)\n        };\n      }\n      if (action.payload === 'asc') {\n        return {\n          ...state,\n          filtered: [...state.filtered].sort((prev, next) => next.rating - prev.rating)\n        };\n      } else {\n        return {\n          ...state,\n          filtered: state.gamesBackUp\n        };\n      }\n      ;\n    default:\n      return state;\n  }\n}\n;","map":{"version":3,"names":["GET_ALL_GAMES","SEARCH_BY_NAME","GET_VIDEOGAME_DETAIL","GET_GENRES","ORDER_BY","FILTER_BY","initialState","allGames","gamesBackUp","gameDetails","genres","filtered","rootReducer","state","action","type","payload","filter","game","id","find","genre","sort","prev","next","name","rating"],"sources":["C:/Users/mirko/Desktop/Proyecto Individual Mirko Miler FT-45B/Proyecto-Individual/PI-Videogames-main/client/src/redux/reducers.js"],"sourcesContent":["import { GET_ALL_GAMES, \r\n  SEARCH_BY_NAME,\r\n  GET_VIDEOGAME_DETAIL,\r\n  GET_GENRES,\r\n  ORDER_BY,\r\n  FILTER_BY } from \"./Actions/constantes\";\r\n\r\nconst initialState = {\r\nallGames: [],\r\ngamesBackUp: [],\r\ngameDetails: {},\r\ngenres: [],\r\nfiltered: []\r\n};\r\n\r\nexport default function rootReducer(state = initialState, action) {\r\nswitch (action.type) {\r\n    case GET_ALL_GAMES:\r\n         return {\r\n         ...state,\r\n         allGames: action.payload, \r\n         gamesBackUp: action.payload,\r\n         filtered: action.payload\r\n     };\r\n     case GET_VIDEOGAME_DETAIL:\r\n         return {\r\n         ...state,\r\n         gameDetails: action.payload\r\n     };\r\n\r\n     case SEARCH_BY_NAME:\r\n         return {\r\n         ...state,\r\n         gamesBackUp: action.payload,\r\n         filtered: action.payload\r\n     };\r\n\r\n     case GET_GENRES:\r\n         \r\n     return {\r\n             ...state,\r\n             genres: action.payload\r\n          \r\n         };\r\n         \r\n     case FILTER_BY:\r\n             if (action.payload === 'default'){\r\n                 return {...state, filtered: state.gamesBackUp}\r\n                 }\r\n               \r\n             if(action.payload === 'DB'){\r\n                 return {...state, filtered: state.gamesBackUp.filter((game)=> (typeof game.id) === 'string')}\r\n                 }\r\n               \r\n             if(action.payload === 'API'){\r\n                 return {...state, filtered: state.gamesBackUp.filter((game)=> (typeof game.id) === 'number')}\r\n                 }\r\n               \r\n             else {\r\n                 return {...state, filtered: state.gamesBackUp.filter((game) => {\r\n                     return game.genres.find((genre) => {\r\n                         return genre === action.payload})\r\n                 })}\r\n             };\r\n\r\n     case ORDER_BY:\r\n         if(action.payload === 'A-Z'){\r\n             return {...state, filtered: [...state.filtered].sort((prev, next) => {\r\n                 if(prev.name > next.name) return 1\r\n                 if(prev.name < next.name) return -1\r\n                 return 0\r\n             })}}\r\n               \r\n         if(action.payload === 'Z-A'){\r\n             return {...state, filtered: [...state.filtered].sort((prev, next) => {\r\n                 if(prev.name > next.name) return -1\r\n                 if(prev.name < next.name) return 1\r\n                 return 0\r\n             })}}\r\n               \r\n         if(action.payload === 'desc'){\r\n             return {...state, filtered: [...state.filtered].sort((prev,next) => prev.rating - next.rating)}\r\n            }\r\n               \r\n         if(action.payload === 'asc'){\r\n             return {...state, filtered: [...state.filtered].sort((prev,next) => next.rating - prev.rating)}\r\n             }     \r\n         else {\r\n             return {...state, filtered: state.gamesBackUp}\r\n             };\r\n default: \r\n     return state;\r\n}\r\n  \r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}